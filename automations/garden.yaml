##
## Automationer för trädgården/utomhus
##

###################################################
##                                               ##
## Ljuset på/av längs staketet                   ##
##                                               ##
###################################################

  - alias: Trädgårdsbelysningen på vid solnedgång
    trigger:
      platform: sun
      event: sunset
    action:
      service: light.turn_on
      entity_id: light.staketbelysning

# Släck belysningen kl 23 om det är arbetsdag imorgon ...
  - alias: Trädgårdsbelysningen av (vardag)
    trigger:
      platform: time
      at: '23:00:00'
    condition:
      condition: state
      entity_id: 'binary_sensor.workday_tomorrow'
      state: 'on'
    action:
      service: light.turn_off
      entity_id: light.staketbelysning

# ... annars stäng av kl 01!
  - alias: Trädgårdsbelysningen av (helgen)
    trigger:
      platform: time
      at: '01:00:00'
    condition:
      condition: state
      entity_id: 'binary_sensor.workday_today'
      state: 'off'
    action:
      service: light.turn_off
      entity_id: light.staketbelysning

###################################################
##                                               ##
## Ljuset på/av vid dammen                       ##
##                                               ##
###################################################

  - alias: Dammbelysningen på (morgon)
    trigger:
      platform: time
      at: '05:00:00'
    action:
      service: light.turn_on
      entity_id: light.dammbelysning

  - alias: Dammbelysningen av (morgon)
    trigger:
      platform: sun
      event: sunrise
      offset: "+00:10:00"
    action:
      service: light.turn_off
      entity_id: light.dammbelysning

  - alias: Dammbelysningen på vid solnedgång
    trigger:
      platform: sun
      event: sunset
      offset: "-00:30:00"
    action:
      service: light.turn_on
      entity_id: light.dammbelysning

  - alias: Dammbelysningen av (kväll)
    trigger:
      platform: time
      at: '23:40:00'
    action:
      service: light.turn_off
      entity_id: light.dammbelysning

###################################################
##                                               ##
## Dammpumpen                                    ##
##                                               ##
###################################################
  - alias: Dammpumpen på (kväll)
    trigger:
      platform: sun
      event: sunset
      offset: "-01:30:00"
    condition:
      condition: state
      entity_id: 'binary_sensor.workday_today'
      state: 'off'
    action:
      service: switch.turn_on
      entity_id: switch.dammpump

  - alias: Dammpumpen av (kväll)
    trigger:
      platform: sun
      event: sunset
      offset: "+00:30:00"
    action:
      service: switch.turn_off
      entity_id: switch.dammpump

